(function(t){function e(e){for(var i,n,s=e[0],c=e[1],l=e[2],m=0,d=[];m<s.length;m++)n=s[m],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],i=!0,s=1;s<r.length;s++){var c=r[s];0!==o[c]&&(i=!1)}i&&(a.splice(e--,1),t=n(n.s=r[0]))}return t}var i={},o={app:0},a=[];function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=i,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Header",{attrs:{cart:t.cart},on:{"show-cart":t.showCart}}),r("Items",{attrs:{items:t.items},on:{"add-to-cart":t.addToCart}}),r("Cart",{attrs:{cart:t.cart,promotions:t.promotions},on:{"remove-item":t.removeCartItem,"hide-cart":t.hideCart}})],1)},a=[],n=(r("4de4"),r("4160"),r("d3b7"),r("159b"),r("96cf"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",[r("div",{staticClass:"ui top fixed menu"},[t._m(0),r("a",{staticClass:"item"},[t._v("Home")]),r("a",{staticClass:"item"},[t._v("Categories")]),r("a",{staticClass:"item",staticStyle:{"background-color":"red",color:"white"}},[t._v("Special offers")]),r("div",{staticClass:"right menu"},[r("a",{staticClass:"item",on:{click:function(e){return t.$emit("show-cart")}}},[r("i",{staticClass:"shop icon"}),t._v(" "+t._s(t.cart.length)+" ")]),r("a",{staticClass:"item"},[t._v("Sign In")]),r("a",{staticClass:"item"},[t._v("Register")])])]),t._m(1),r("div",{staticClass:"ui hidden divider",attrs:{id:"products"}})])}),s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item"},[i("img",{attrs:{src:r("cf05")}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ui inverted vertical masthead center aligned segment",staticStyle:{background:"url('../../assets/header-img.jpg')"}},[r("div",{staticClass:"ui text container",staticStyle:{margin:"20vh auto"}},[r("h1",{staticClass:"ui header",staticStyle:{"font-size":"8rem","font-weight":"normal"}},[t._v(" Welcome to "),r("br"),r("span",{staticStyle:{color:"#fff","background-color":"rgba(0, 255, 150, .7)","line-height":"10rem","font-weight":"bold"}},[t._v(" Shopster ")])]),r("h2",[t._v("If you need something we may have it. If we don't, sorry.")]),r("br"),r("a",{attrs:{href:"#products"}},[r("div",{staticClass:"ui huge primary button"},[t._v(" Start shopping "),r("i",{staticClass:"right arrow icon"})])])]),r("div",{staticClass:"ui hidden divider"}),r("div",{staticClass:"ui hidden divider"})])}],c={name:"Header",props:["cart"]},l=c,u=r("2877"),m=Object(u["a"])(l,n,s,!1,null,null,null),d=m.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ui middle aligned stackable grid container cards"},t._l(t.items,(function(e){return r("div",{key:e.itemId,staticClass:"four wide column card"},[r("ShopItem",{attrs:{item:e},on:{"add-to-cart":function(r){return t.$emit("add-to-cart",e)}}})],1)})),0)},f=[],v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("img",{staticClass:"ui fluid image",attrs:{src:t.item.itemImgUrl}}),r("h2",[t._v(t._s(t.item.itemName))]),r("div",{staticClass:"ui hidden divider"}),r("p",[t._v("Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui, inventore.")]),r("h2",{staticClass:"ui sub header"},[t._v("Price")]),r("span",[t._v("$"+t._s(t.item.itemPrice))]),r("div",{staticClass:"ui action input right floated"},[r("div",{staticClass:"ui input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.shopItemQty,expression:"shopItemQty"}],attrs:{type:"number",placeholder:"1"},domProps:{value:t.shopItemQty},on:{input:function(e){e.target.composing||(t.shopItemQty=e.target.value)}}})])]),r("div",{staticClass:"ui hidden divider"}),r("button",{staticClass:"ui inverted green button large fluid",on:{click:function(e){return t.addQtyAndEmit(t.item)}}},[t._v("Add to cart")])])},h=[],C=(r("e25e"),{name:"ShopItem",props:["item"],data:function(){return{shopItemQty:1}},methods:{addQtyAndEmit:function(t){t.itemQty||(t.itemQty=parseInt(this.shopItemQty)),this.$emit("add-to-cart",t)}}}),g=C,y=Object(u["a"])(g,v,h,!1,null,null,null),_=y.exports,b={name:"Items",components:{ShopItem:_},props:["items"]},I=b,w=Object(u["a"])(I,p,f,!1,null,null,null),P=w.exports,x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ui vertical menu right sidebar",staticStyle:{width:"300px"},attrs:{id:"sidebarCart"}},[r("div",{staticClass:"item"},[r("span",{staticStyle:{cursor:"pointer",padding:".5rem",width:"1.5rem"},on:{click:function(e){return t.$emit("hide-cart")}}},[r("i",{staticClass:"angle right icon"})])]),t._l(t.cart,(function(e){return r("div",{key:e.itemId,staticClass:"item"},[r("CartItem",{attrs:{cartItem:e},on:{"remove-item":function(r){return t.$emit("remove-item",e.itemId)}}})],1)})),r("div",{staticClass:"item"},[r("div",{staticClass:"ui action input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.promoCode,expression:"promoCode"}],attrs:{type:"text",placeholder:"Promo code"},domProps:{value:t.promoCode},on:{input:function(e){e.target.composing||(t.promoCode=e.target.value)}}}),r("button",{staticClass:"ui button",on:{click:function(e){return t.applyCode(t.promoCode)}}},[t._v("Apply")])]),t.cantApplyMessage?r("span",{staticStyle:{color:"red"}},[t._v(t._s(t.cantApplyMessage))]):t._e(),t._l(t.appliedPromos,(function(e){return r("div",{key:e.promoCode,staticClass:"item"},[t._v(" "+t._s(e.promoCode)+" "),r("span",{staticStyle:{float:"right",cursor:"pointer"},on:{click:function(r){return t.removeCode(e.promoCode)}}},[t._v("X")])])}))],2),r("div",{staticClass:"item"},[r("h3",[t._v("Total: $"+t._s(t.totalPrice))])]),t._m(0)],2)},k=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"item"},[r("button",{staticClass:"ui inverted green button large fluid"},[t._v("Checkout")])])}],O=(r("b680"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"header"},[r("span",[t._v(t._s(t.cartItem.itemName))]),r("span",{staticStyle:{float:"right",cursor:"pointer"},on:{click:function(e){return t.$emit("remove-item",t.cartItem.itemId)}}},[t._v("X")])]),r("div",{staticClass:"menu"},[r("span",{staticClass:"item"},[t._v("Price: $"+t._s(t.cartItem.itemPrice))]),r("span",{staticClass:"item"},[t._v("Qty: "+t._s(t.cartItem.itemQty))])])])}),S=[],E={name:"CartItem",props:["cartItem"]},$=E,j=Object(u["a"])($,O,S,!1,null,null,null),Q=j.exports,A={name:"Cart",components:{CartItem:Q},props:["cart","promotions"],data:function(){return{appliedPromos:[],promoCode:"Promo code",promoAllowed:!0,cantApplyMessage:void 0}},computed:{totalPrice:function(){var t=0;return this.cart.forEach((function(e){t+=e.itemPrice*e.itemQty})),this.appliedPromos.forEach((function(e){"amount"===e.off?t-=e.value:"percent"===e.off&&(t-=t*e.value)})),t.toFixed(2)}},methods:{applyCode:function(t){var e=this;this.promoAllowed=!0,this.promotions.forEach((function(r){r.promoCode===t&&(e.appliedPromos.forEach((function(t){t.promoCode===r.promoCode?(e.promoAllowed=!1,e.cantApplyMessage="You can't apply same code twice."):r.canCombine&&t.canCombine||(e.promoAllowed=!1,e.cantApplyMessage="You can't combine this promo codes.")})),e.promoAllowed&&e.appliedPromos.push(r))})),this.promoCode="Promo code"},removeCode:function(t){this.appliedPromos=this.appliedPromos.filter((function(e){return e.promoCode!==t}))}}},M=A,F=Object(u["a"])(M,x,k,!1,null,null,null),R=F.exports,T=r("9f12"),H=r("53fe"),N=r("1052"),L=r.n(N),B="api/items/",J=function(){function t(){Object(T["a"])(this,t)}return Object(H["a"])(t,null,[{key:"getItems",value:function(){return new Promise((function(t,e){var r,i;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,regeneratorRuntime.awrap(L.a.get(B));case 3:r=o.sent,i=r.data,t(i),o.next=11;break;case 8:o.prev=8,o.t0=o["catch"](0),e(o.t0);case 11:case"end":return o.stop()}}),null,null,[[0,8]])}))}},{key:"insertItem",value:function(t){return L.a.post(B,{text:t})}},{key:"deleteItem",value:function(t){return L.a.delete("".concat(B).concat(t))}}]),t}(),U=J,X={name:"app",components:{Header:d,Items:P,Cart:R},data:function(){return{items:[],cart:[],promotions:[{promoCode:"20%OFF",off:"percent",value:.2,canCombine:!1},{promoCode:"5%OFF",off:"percent",value:.05,canCombine:!0},{promoCode:"20EUROFF",off:"amount",value:20,canCombine:!0}],comboPrice:[{itemId:"2",minQty:3,itemPrice:65},{itemId:"4",minQty:2,newPrice:35}],appliedPromos:[],promoCode:"Promo code",promoAllowed:!0,cantApplyMessage:void 0}},created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,regeneratorRuntime.awrap(U.getItems());case 3:this.items=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),this.error=t.t0.message;case 9:case"end":return t.stop()}}),null,this,[[0,6]])},methods:{showCart:function(){document.getElementById("sidebarCart").classList.add("overlay","visible")},hideCart:function(){document.getElementById("sidebarCart").classList.remove("overlay","visible")},removeCartItem:function(t){this.cart=this.cart.filter((function(e){return e.itemId!==t}))},addToCart:function(t){var e,r=!1;this.cart.forEach((function(i){i.itemId===t.itemId&&(r=!0,e=i.itemId)})),r?this.cart.forEach((function(t){t.itemId===e&&(t.itemQty+=1,alert(t.itemQty))})):this.cart.push(t)}}},Y=X,z=Object(u["a"])(Y,o,a,!1,null,null,null),W=z.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(W)}}).$mount("#app")},cf05:function(t,e,r){t.exports=r.p+"img/logo.8be16200.png"}});
//# sourceMappingURL=app.895608fd.js.map