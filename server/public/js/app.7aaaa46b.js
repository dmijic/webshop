(function(t){function e(e){for(var o,n,s=e[0],c=e[1],l=e[2],m=0,d=[];m<s.length;m++)n=s[m],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],o=!0,s=1;s<i.length;s++){var c=i[s];0!==r[c]&&(o=!1)}o&&(a.splice(e--,1),t=n(n.s=i[0]))}return t}var o={},r={app:0},a=[];function n(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=o,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var o=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Header",{attrs:{cart:t.cart},on:{"show-cart":t.showCart}}),i("Items",{attrs:{items:t.items},on:{"add-to-cart":t.addToCart}}),i("Cart",{attrs:{cart:t.cart,promotions:t.promotions},on:{"remove-item":t.removeCartItem,"hide-cart":t.hideCart}})],1)},a=[],n=(i("4de4"),i("4160"),i("d81d"),i("b680"),i("d3b7"),i("159b"),i("96cf"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",[i("div",{staticClass:"ui top fixed menu"},[t._m(0),i("a",{staticClass:"item"},[t._v("Home")]),i("a",{staticClass:"item"},[t._v("Categories")]),i("a",{staticClass:"item",staticStyle:{"background-color":"red",color:"white"}},[t._v("Special offers")]),i("div",{staticClass:"right menu"},[i("a",{staticClass:"item",on:{click:function(e){return t.$emit("show-cart")}}},[i("i",{staticClass:"shop icon"}),t._v(" "+t._s(t.cart.length)+" ")]),i("a",{staticClass:"item"},[t._v("Sign In")]),i("a",{staticClass:"item"},[t._v("Register")])])]),t._m(1),i("div",{staticClass:"ui hidden divider",attrs:{id:"products"}})])}),s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"item"},[o("img",{attrs:{src:i("cf05")}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui inverted vertical masthead center aligned segment",staticStyle:{background:"url('https://blooming-chamber-87933.herokuapp.com/img/header-img.jpg')"}},[i("div",{staticClass:"ui text container",staticStyle:{margin:"20vh auto"}},[i("h1",{staticClass:"ui header",staticStyle:{"font-size":"8rem","font-weight":"normal"}},[t._v(" Welcome to "),i("br"),i("span",{staticStyle:{color:"#fff","background-color":"rgba(0, 255, 150, .7)","line-height":"10rem","font-weight":"bold"}},[t._v(" Shopster ")])]),i("h2",[t._v("If you need something we may have it. If we don't, sorry.")]),i("br"),i("a",{attrs:{href:"#products"}},[i("div",{staticClass:"ui huge primary button"},[t._v(" Start shopping "),i("i",{staticClass:"right arrow icon"})])])]),i("div",{staticClass:"ui hidden divider"}),i("div",{staticClass:"ui hidden divider"})])}],c={name:"Header",props:["cart"]},l=c,u=i("2877"),m=Object(u["a"])(l,n,s,!1,null,null,null),d=m.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui middle aligned stackable grid container cards"},t._l(t.items,(function(e){return i("div",{key:e.itemId,staticClass:"four wide column card"},[i("ShopItem",{attrs:{item:e},on:{"add-to-cart":function(i){return t.$emit("add-to-cart",e)}}})],1)})),0)},f=[],v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("img",{staticClass:"ui fluid image",attrs:{src:"https://blooming-chamber-87933.herokuapp.com/img/"+t.item.itemImgUrl}}),i("h2",[t._v(t._s(t.item.itemName))]),i("div",{staticClass:"ui hidden divider"}),i("p",[t._v("Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui, inventore.")]),i("h2",{staticClass:"ui sub header"},[t._v("Price")]),i("span",[t._v("$"+t._s(t.item.itemPrice))]),i("div",{staticClass:"ui action input right floated"},[i("div",{staticClass:"ui input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.shopItemQty,expression:"shopItemQty"}],attrs:{type:"number",placeholder:"1"},domProps:{value:t.shopItemQty},on:{input:function(e){e.target.composing||(t.shopItemQty=e.target.value)}}})])]),i("div",{staticClass:"ui hidden divider"}),i("button",{staticClass:"ui inverted green button large fluid",on:{click:function(e){return t.$emit("add-to-cart",t.item)}}},[t._v("Add to cart")])])},h=[],C={name:"ShopItem",props:["item"],data:function(){return{shopItemQty:1}}},g=C,y=Object(u["a"])(g,v,h,!1,null,null,null),b=y.exports,_={name:"Items",components:{ShopItem:b},props:["items"]},w=_,P=Object(u["a"])(w,p,f,!1,null,null,null),I=P.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui vertical menu right sidebar",staticStyle:{width:"300px"},attrs:{id:"sidebarCart"}},[i("div",{staticClass:"item"},[i("span",{staticStyle:{cursor:"pointer",padding:".5rem",width:"1.5rem"},on:{click:function(e){return t.$emit("hide-cart")}}},[i("i",{staticClass:"angle right icon"})])]),t._l(t.cart,(function(e){return i("div",{key:e.itemId,staticClass:"item"},[i("div",[i("div",{staticClass:"header"},[i("span",[t._v(t._s(e.itemName))]),i("span",{staticStyle:{float:"right",cursor:"pointer"},on:{click:function(i){return t.$emit("remove-item",e.itemId)}}},[t._v("X")])]),i("div",{staticClass:"menu"},[i("span",{staticClass:"item"},[t._v("Price: $"+t._s(e.itemPrice))]),i("span",{staticClass:"item"},[t._v("Qty: "+t._s(e.itemQty))]),e.totalDiscount?i("span",{staticClass:"item"},[t._v("Discount: "+t._s(e.totalDiscount))]):t._e()])])])})),i("div",{staticClass:"item"},[i("div",{staticClass:"ui action input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.promoCode,expression:"promoCode"}],attrs:{type:"text",placeholder:"Promo code"},domProps:{value:t.promoCode},on:{input:function(e){e.target.composing||(t.promoCode=e.target.value)}}}),i("button",{staticClass:"ui button",on:{click:function(e){return t.applyCode(t.promoCode)}}},[t._v("Apply")])]),t.cantApplyMessage?i("span",{staticStyle:{color:"red"}},[t._v(t._s(t.cantApplyMessage))]):t._e(),t._l(t.appliedPromos,(function(e){return i("div",{key:e.promoCode,staticClass:"item"},[t._v(" "+t._s(e.promoCode)+" "),i("span",{staticStyle:{float:"right",cursor:"pointer"},on:{click:function(i){return t.removeCode(e.promoCode)}}},[t._v("X")])])}))],2),i("div",{staticClass:"item"},[i("h3",[t._v("Total: $"+t._s(t.totalPrice))])]),t._m(0)],2)},k=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item"},[i("button",{staticClass:"ui inverted green button large fluid"},[t._v("Checkout")])])}],S={name:"Cart",props:["cart","promotions"],data:function(){return{appliedPromos:[],promoCode:"Promo code",promoAllowed:!0,cantApplyMessage:void 0}},computed:{totalPrice:function(){var t=0;return this.cart.forEach((function(e){t+=e.itemPrice*e.itemQty})),this.appliedPromos.forEach((function(e){"amount"===e.off?t-=e.value:"percent"===e.off&&(t-=t*e.value)})),t.toFixed(2)}},methods:{applyCode:function(t){var e=this;this.promoAllowed=!0,this.promotions.forEach((function(i){i.promoCode===t&&(e.appliedPromos.forEach((function(t){t.promoCode===i.promoCode?(e.promoAllowed=!1,e.cantApplyMessage="You can't apply same code twice."):i.canCombine&&t.canCombine||(e.promoAllowed=!1,e.cantApplyMessage="You can't combine this promo codes.")})),e.promoAllowed&&e.appliedPromos.push(i))})),this.promoCode="Promo code"},removeCode:function(t){this.appliedPromos=this.appliedPromos.filter((function(e){return e.promoCode!==t}))}}},O=S,Q=Object(u["a"])(O,x,k,!1,null,null,null),j=Q.exports,E=i("9f12"),$=i("53fe"),A=i("1052"),M=i.n(A),F="api/items/",N=function(){function t(){Object(E["a"])(this,t)}return Object($["a"])(t,null,[{key:"getItems",value:function(){return new Promise((function(t,e){var i,o;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,regeneratorRuntime.awrap(M.a.get(F));case 3:i=r.sent,o=i.data,t(o),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),e(r.t0);case 11:case"end":return r.stop()}}),null,null,[[0,8]])}))}},{key:"insertItem",value:function(t){return M.a.post(F,{text:t})}},{key:"deleteItem",value:function(t){return M.a.delete("".concat(F).concat(t))}}]),t}(),R=N,T={name:"app",components:{Header:d,Items:I,Cart:j},data:function(){return{items:[],cart:[],promotions:[{promoCode:"20%OFF",off:"percent",value:.2,canCombine:!1},{promoCode:"5%OFF",off:"percent",value:.05,canCombine:!0},{promoCode:"20EUROFF",off:"amount",value:20,canCombine:!0}],comboPrice:[{itemId:"2",minQty:3,itemPrice:65},{itemId:"4",minQty:2,itemPrice:35}],appliedPromos:[],promoCode:"Promo code",promoAllowed:!0,cantApplyMessage:void 0}},created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,regeneratorRuntime.awrap(R.getItems());case 3:this.items=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),this.error=t.t0.message;case 9:case"end":return t.stop()}}),null,this,[[0,6]])},methods:{showCart:function(){document.getElementById("sidebarCart").classList.add("overlay","visible")},hideCart:function(){document.getElementById("sidebarCart").classList.remove("overlay","visible")},removeCartItem:function(t){this.cart=this.cart.filter((function(e){return e.itemId!==t}))},addToCart:function(t){var e,i,o=this,r=!1;this.cart.forEach((function(a){a.itemId===t.itemId&&(r=!0,e=a.itemId,o.comboPrice.forEach((function(t){if(a.itemId===t.itemId){i="combo price: "+t.minQty+" for "+t.itemPrice,console.log(a.itemName+": "+i);var e=a.itemPrice*t.minQty-t.itemPrice;console.log(a.itemName+" discount: "+e.toFixed(2)),a.itemQty>=t.minQty&&(e*=Math.floor(a.itemQty/t.minQty)),a.totalDiscount=e.toFixed(2),console.log(a.totalDiscount)}})))})),r?this.cart=this.cart.map((function(t){return t.itemId===e?(t.itemQty+=1,t):t})):(t.itemQty=1,this.cart.push(t))}}},D=T,H=Object(u["a"])(D,r,a,!1,null,null,null),L=H.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(L)}}).$mount("#app")},cf05:function(t,e,i){t.exports=i.p+"img/logo.8be16200.png"}});
//# sourceMappingURL=app.7aaaa46b.js.map